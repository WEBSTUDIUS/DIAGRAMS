<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36" version="26.0.5" pages="2">
  <diagram id="ykcoprw3lmcuyB5p3u-q" name="Backup class (main)">
    <mxGraphModel dx="1793" dy="1868" grid="1" gridSize="10" guides="1" tooltips="1" connect="0" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="FqSsDGNKy8bBFyhwUsow-1" target="0Z_Cq0QArTlGkc0pEMjF-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FqSsDGNKy8bBFyhwUsow-1" value="&lt;div&gt;CRON&lt;/div&gt;Запуск команды для резервного копирования" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="500.5" y="-720" width="169" height="90" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0Z_Cq0QArTlGkc0pEMjF-1" target="0Z_Cq0QArTlGkc0pEMjF-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-1" value="&lt;div&gt;Получаем нужную информацию о сделках и квартире в сделке&lt;/div&gt;&lt;div&gt;new Deals()-&amp;gt;get()&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="668" y="-255" width="172" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0Z_Cq0QArTlGkc0pEMjF-2" target="0Z_Cq0QArTlGkc0pEMjF-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-2" value="Создаем оъект класса Backup(), запускаем метод create(), в котором организована общая логика работы бэкапа" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="668" y="-385" width="172" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0Z_Cq0QArTlGkc0pEMjF-3" target="0Z_Cq0QArTlGkc0pEMjF-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="0Z_Cq0QArTlGkc0pEMjF-3" target="0Z_Cq0QArTlGkc0pEMjF-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-3" value="Запуск успешен?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="540.5" y="-490" width="89" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-6" value="Да" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="641" y="-485" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-7" value="&lt;div&gt;Записать ошибку в лог&lt;/div&gt;&lt;div&gt;Уведомить админа&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="330" y="-385" width="172" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-9" value="Нет" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="481" y="-485" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0Z_Cq0QArTlGkc0pEMjF-10" target="0Z_Cq0QArTlGkc0pEMjF-3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="585" y="-500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-10" value="&lt;div&gt;ItPanel - check.php&lt;/div&gt;&lt;div&gt;Запуск общего класса, отвечающего за непосредственное копирование&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="500.5" y="-600" width="169" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0Z_Cq0QArTlGkc0pEMjF-14" target="0Z_Cq0QArTlGkc0pEMjF-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-14" value="&lt;div&gt;Формируем структуру папок из полученных данных из сделки&lt;/div&gt;&lt;div&gt;new Documents()-&amp;gt;get()&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="668" y="-120" width="172" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0Z_Cq0QArTlGkc0pEMjF-16" target="0Z_Cq0QArTlGkc0pEMjF-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-16" value="&lt;div&gt;Выгружаем структуру папок на ЯДиск&lt;/div&gt;&lt;div&gt;new Upload()-&amp;gt;create(), получаем ссылку на главную папку&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="668" y="20" width="172" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0Z_Cq0QArTlGkc0pEMjF-18" target="0Z_Cq0QArTlGkc0pEMjF-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-18" value="&lt;div&gt;Из полученных сделок и ссылки формируем файл эксель&lt;/div&gt;&lt;div&gt;new File()-&amp;gt;create()&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="668" y="160" width="172" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-20" value="&lt;div&gt;Выгружаем файл эксель на ЯДиск&lt;/div&gt;&lt;div&gt;new Upload()-&amp;gt;create(), получаем ссылку на файл для записи в Статус&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="668" y="300" width="172" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0Z_Cq0QArTlGkc0pEMjF-23" value="&lt;font style=&quot;font-size: 23px;&quot;&gt;&lt;b&gt;Общая структура резервного копирования&lt;/b&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="409" y="-810" width="351" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Documents class" id="9FN_7QrL7bDhH2xpMbpj">
    <mxGraphModel dx="1195" dy="643" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="qxar2i6eTfuTEpqdG3V1-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="qxar2i6eTfuTEpqdG3V1-1" target="qxar2i6eTfuTEpqdG3V1-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qxar2i6eTfuTEpqdG3V1-1" value="Check Deal for Flat&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;ID&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qxar2i6eTfuTEpqdG3V1-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="qxar2i6eTfuTEpqdG3V1-2" target="qxar2i6eTfuTEpqdG3V1-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qxar2i6eTfuTEpqdG3V1-2" value="Check Flat for docs folder ID&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="354" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qxar2i6eTfuTEpqdG3V1-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="qxar2i6eTfuTEpqdG3V1-4" target="qxar2i6eTfuTEpqdG3V1-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qxar2i6eTfuTEpqdG3V1-4" value="Create Array with Main folder structure" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qxar2i6eTfuTEpqdG3V1-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="qxar2i6eTfuTEpqdG3V1-6" target="qxar2i6eTfuTEpqdG3V1-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qxar2i6eTfuTEpqdG3V1-6" value="Create (upload) this structure inside Y.Disk" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qxar2i6eTfuTEpqdG3V1-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="qxar2i6eTfuTEpqdG3V1-10" target="qxar2i6eTfuTEpqdG3V1-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qxar2i6eTfuTEpqdG3V1-10" value="Get remote main folder link" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="354" y="250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qxar2i6eTfuTEpqdG3V1-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="qxar2i6eTfuTEpqdG3V1-12" target="qxar2i6eTfuTEpqdG3V1-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qxar2i6eTfuTEpqdG3V1-12" value="Write down Remote link to Deal&#39;s Excel File" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qxar2i6eTfuTEpqdG3V1-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="qxar2i6eTfuTEpqdG3V1-14" target="qxar2i6eTfuTEpqdG3V1-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qxar2i6eTfuTEpqdG3V1-14" value="Upload Deal Excel File to Y.Disk" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qxar2i6eTfuTEpqdG3V1-16" value="Get respond for returning ArRespond to ItPanel" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="354" y="420" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
